var login=(function(d){var a;function i(j){this.config=j;d("button[type=submit]").click(function(){a=d(this)});d("#forgotPwdLink").on("click mousedown",function(){b(j.usernameId)})}function g(j){return j.indexOf("?")>=0}function c(j,k){return j.indexOf(k+"=")>=0}function h(j,k){if(g(j)){return j+"&"+k}else{return j+"?"+k}}function e(j,l,k){if(c(j,l)){return j.replace(new RegExp(l+"=[^&]*"),l+"="+k)}else{if(l&&k){return h(j,l+"="+k)}}return j}function b(l){var m=d("#"+l).val(),j=d("#forgotPwdLink"),k=j.attr("href");if(k){j.attr("href",e(k,"ruid",m))}}function f(){return a&&a[0].hasAttribute("formnovalidate")}return{init:i,shouldSkipValidation:f}}(jQuery));(function(d){var x,u={},k="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",s,e,a=login.init;function n(y){w();l();d(window).bind("orientationchange",r);d(window).bind("resize",c);d(window).one("touchstart",function(){s=true;d("html").addClass("touch").css("background-attachment","initial")});i();d("input").blur(function(){if(s){e=true}setTimeout(function(){e=false},0)});a.call(login,y);q(y)}function l(){c();var y=d("#background video");if(y.length){y.removeAttr("hidden");if(window.matchMedia&&window.matchMedia("(prefers-reduced-motion)").matches){y.removeAttr("autoplay");y[0].pause()}}}function r(){var z=d("#background"),A=d(".has-footer > footer"),y=d(document).height();if(A.length){y=A.position().top}if(z.length){y-=z.position().top}z.css("height",y)}function i(){var A=d("#more-options");var z=d("#less-options");var y=d("#identity-options");A.click(function(){y.slideDown(400,function(){d(this).attr("aria-expanded",true)}).removeAttr("hidden");A.attr("hidden",true);z.removeAttr("hidden").find("button").focus()});z.click(function(){y.slideUp(400,function(){d(this).attr("aria-expanded",false)}).attr("hidden",true);z.attr("hidden",true);A.removeAttr("hidden").find("button").focus()})}function c(){var z=b();if(z!=x){x=z;p(z)}var y=d(".overlay:visible");if(y.length){j(y)}r()}function p(){var y=d(".overlay:visible");if(y.length){j(y)}}function w(){d("button[data-id-ref]").click(function(){var A=d(this),B=A.data("idRef")?d("#"+A.data("idRef")):A.next("[role=dialog]");o(B,A);return false});d("[role=dialog] .close, [role=dialog] .cancel").click(function(){v(d(this).closest("[role=dialog]"))});var z=null;var y=false;d(document).on({keydown:function(A){if(A.keyCode==27){v(d(".overlay:visible"))}},focusout:function(A){z=A.target},focusin:function(B){var C=d(".overlay:visible");if(C.length&&d(B.target).closest(".overlay").length==0){var A=C.find(k).first();if(A.is(z)){f(C)}else{m(C)}}}})}function h(y){y.attr("tab-index",0);y.focus()}function m(y){var z=y.find(k);z.first().focus()}function f(y){var z=y.find(k);z.last().focus()}function o(z,y){if(!z.data("dialogType")){z.data("dialogType","overlay")}z.data("triggerElem",y);setTimeout(function(){j(z);d("html").css("overflow","hidden");z.attr("aria-hidden",false).css("display","");d("#background, header, main, footer").attr("aria-hidden",true);z.find("> .content").css("max-height","100%");m(z)},e?500:0)}function v(y){if(y.is(":visible")){y.attr("aria-hidden",true).css("display","");d("#background, header, main, footer").attr("aria-hidden",false);y.find("> .content").css("max-height","");d("html").css("overflow","");g(y)}}function g(z){var y=z.data("triggerElem");if(y){if(d(":focus").closest(".overlay").is(z)){y.focus()}}}function j(B){if(B.is(".overlay")){var z=window.innerHeight||d(window).height();B.css({height:z,left:"",top:""});var A=!B.is(":visible");B.show();var y=B.find("> .content");y.css({top:Math.max(0,(z-y.outerHeight())/2),left:(B.outerWidth()-y.outerWidth())/2});if(A){B.hide()}}}function b(){return d("#breakpoints").css("font-family")}function t(z,y){u[y]=z}function q(y){if(y&&y.name){u[y.name](y)}else{for(var z in u){u[z](y)}}}login.init=n;login.getBreakpoint=b;login.registerInitFunction=t;login.showOverlay=o}(jQuery));var shared=function(){function g(){b();f()}function f(){$("button[data-continue-url]").click(function(){window.location.href=$(this).data("continueUrl")})}function c(h){return $("label.float[for="+h.attr("id")+"]")}function e(h){try{return h.is(":-webkit-autofill")}catch(i){}return false}function d(j,h){var i=$(j);return i.val()||e(i)||h=="focus"||(h!="blur"&&j===document.activeElement)}function a(k,h){var j=$(k),i=c($(k));if(d(k,h)){i.removeClass("accessibly-hidden");if(j.attr("placeholder")){j.data("placeholder",j.attr("placeholder")).attr("placeholder","")}}else{i.addClass("accessibly-hidden");if(j.data("placeholder")){j.attr("placeholder",j.data("placeholder"));j.removeData("placeholder")}}}function b(){var h=$("input").filter(function(){return c($(this)).length>0});h.on("focus",function(i){a(this,i.type)}).on("blur input",function(i){a(this,i.type)}).on("animationstart",function(i){a(this);switch(i.originalEvent.animationName){case"onAutoFillStart":c($(this)).addClass("autofill");break;case"onAutoFillCancel":c($(this)).removeClass("autofill");break}}).each(function(){a(this);if(e($(this))){c($(this)).addClass("autofill")}})}return{init:g}}();